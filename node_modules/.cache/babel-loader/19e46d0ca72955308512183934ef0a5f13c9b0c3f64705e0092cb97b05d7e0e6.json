{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nour Badr\\\\Downloads\\\\abyss_typescript\\\\abyss_typescript_task-main\\\\src\\\\Components\\\\Category\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport color from \"../../Constants/color\";\nimport Buttons from \"../Buttons/Buttons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Category() {\n  _s();\n  //All State Start From Here\n  const [obj_ref, setObj_ref] = React.useState({\n    name: \"level_1\",\n    level: 1,\n    value: \"Category\",\n    is_edit: false,\n    color: color[0],\n    children: []\n  });\n  // All State End Here\n\n  //All Function For Category Start\n  function add(obj, parent_obj) {\n    const level = (obj === null || obj === void 0 ? void 0 : obj.level) + 1;\n    const color_val = color[obj.level];\n    console.log(parent_obj, level, color_val);\n    obj.children.push({\n      name: parent_obj.name + \"_\" + (parent_obj.children.length + 1),\n      level: level,\n      color: color_val,\n      value: \"\",\n      is_edit: true,\n      children: []\n    });\n    setObj_ref(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function close(parent_obj, idx) {\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx);\n    setObj_ref(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function confirm(obj) {\n    if (obj.value) {\n      obj.is_edit = false;\n      setObj_ref(data => {\n        return {\n          ...data\n        };\n      });\n    }\n  }\n  function cancle(parent_obj, idx) {\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx);\n    setObj_ref(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function edit(obj, e) {\n    let val = prompt(\"Enter Edited Value\", obj === null || obj === void 0 ? void 0 : obj.value);\n    while (!val) {\n      val = prompt(\"Enter Edited Value\", obj === null || obj === void 0 ? void 0 : obj.value);\n    }\n    obj.value = val;\n    setObj_ref(data => {\n      return {\n        ...data,\n        value: e.target.value\n      };\n    });\n  }\n  function subCategory(obj) {\n    var _obj$children;\n    return obj === null || obj === void 0 ? void 0 : (_obj$children = obj.children) === null || _obj$children === void 0 ? void 0 : _obj$children.map((data, idx) => {\n      var _data$children;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category_main_div\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category_main_value_div\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category_value\",\n              style: {\n                background: `${obj.color}`\n              },\n              children: !data.is_edit ? data.value : /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input_focus\",\n                autoFocus: true,\n                onChange: e => data.value = e.target.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n            confirm: confirm,\n            add: add,\n            obj: data,\n            edit: edit,\n            close: close,\n            parent_obj: obj,\n            cancle: cancle,\n            idx: idx\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), (data === null || data === void 0 ? void 0 : (_data$children = data.children) === null || _data$children === void 0 ? void 0 : _data$children.length) != 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: subCategory(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 42\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this);\n    });\n  }\n  //All Function For Category End\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          id: \"parent_ul\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category_main_div\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"category_main_value_div\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"category_value\",\n                  style: {\n                    background: \"white\",\n                    border: '1px solid #439A97'\n                  },\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n                confirm: confirm,\n                add: add,\n                obj: obj_ref,\n                edit: edit,\n                close: close,\n                parent_obj: obj_ref,\n                cancle: cancle,\n                idx: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), obj_ref.children.length != 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: subCategory(obj_ref)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n_s(Category, \"kk1g8rgSCCnlGEvTMHiygDeN3JY=\");\n_c = Category;\nexport default Category;\nvar _c;\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"names":["React","color","Buttons","Category","obj_ref","setObj_ref","useState","name","level","value","is_edit","children","add","obj","parent_obj","color_val","console","log","push","length","data","close","idx","filter","id","confirm","cancle","edit","e","val","prompt","target","subCategory","map","background","border"],"sources":["C:/Users/Nour Badr/Downloads/abyss_typescript/abyss_typescript_task-main/src/Components/Category/index.tsx"],"sourcesContent":["import React from \"react\";\r\nimport color from \"../../Constants/color\";\r\nimport Buttons from \"../Buttons/Buttons\";\r\n\r\ntype objProps = {\r\n  name: string;\r\n  level: number;\r\n  value: string;\r\n  is_edit: Boolean;\r\n  color: string;\r\n  children: objProps[];\r\n};\r\n\r\nfunction Category() {\r\n  //All State Start From Here\r\n  const [obj_ref, setObj_ref] = React.useState<objProps>({\r\n    name: \"level_1\",\r\n    level: 1,\r\n    value: \"Category\",\r\n    is_edit: false,\r\n    color: color[0],\r\n    children: [],\r\n  });\r\n  // All State End Here\r\n\r\n  //All Function For Category Start\r\n  function add(obj: objProps, parent_obj: objProps) {\r\n    const level = obj?.level + 1;\r\n    const color_val: string = color[obj.level];\r\n    console.log(parent_obj, level, color_val);\r\n    obj.children.push({\r\n      name: parent_obj.name + \"_\" + (parent_obj.children.length + 1),\r\n      level: level,\r\n      color: color_val,\r\n      value: \"\",\r\n      is_edit: true,\r\n      children: [],\r\n    });\r\n    setObj_ref((data) => {\r\n      return { ...data };\r\n    });\r\n  }\r\n  function close(parent_obj: objProps, idx: Number) {\r\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx);\r\n    setObj_ref((data) => {\r\n      return { ...data };\r\n    });\r\n  }\r\n  function confirm(obj: objProps) {\r\n    if (obj.value) {\r\n      obj.is_edit = false;\r\n      setObj_ref((data) => {\r\n        return { ...data };\r\n      });\r\n    }\r\n  }\r\n  function cancle(parent_obj: objProps, idx: Number) {\r\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx);\r\n    setObj_ref((data) => {\r\n      return { ...data };\r\n    });\r\n  }\r\n  function edit(obj: objProps, e: any) {\r\n    let val = prompt(\"Enter Edited Value\", obj?.value);\r\n    while (!val) {\r\n      val = prompt(\"Enter Edited Value\", obj?.value);\r\n    }\r\n    obj.value = val;\r\n    setObj_ref((data) => {\r\n      return { ...data, value: e.target.value };\r\n    });\r\n  }\r\n  function subCategory(obj: objProps) {\r\n    return obj?.children?.map((data: objProps, idx) => {\r\n      return (\r\n        <li>\r\n          <div className=\"category_main_div\">\r\n            <div className=\"category_main_value_div\">\r\n              <div\r\n                className=\"category_value\"\r\n                style={{ background: `${obj.color}` }}\r\n              >\r\n                {!data.is_edit ? (\r\n                  data.value\r\n                ) : (\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"input_focus\"\r\n                    autoFocus={true}\r\n                    onChange={(e) => (data.value = e.target.value)}\r\n                  ></input>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <Buttons\r\n              confirm={confirm}\r\n              add={add}\r\n              obj={data}\r\n              edit={edit}\r\n              close={close}\r\n              parent_obj={obj}\r\n              cancle={cancle}\r\n              idx={idx}\r\n            />\r\n          </div>\r\n\r\n          {data?.children?.length != 0 ? <ul>{subCategory(data)}</ul> : null}\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n  //All Function For Category End\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"category\">\r\n          <ul id=\"parent_ul\">\r\n            <li>\r\n              <div className=\"category_main_div\">\r\n                <div className=\"category_main_value_div\">\r\n                  <div\r\n                    className=\"category_value\"\r\n                    style={{ background: \"white\", border: '1px solid #439A97' }}\r\n                  >\r\n                    Category\r\n                  </div>\r\n                </div>\r\n                <Buttons\r\n                  confirm={confirm}\r\n                  add={add}\r\n                  obj={obj_ref}\r\n                  edit={edit}\r\n                  close={close}\r\n                  parent_obj={obj_ref}\r\n                  cancle={cancle}\r\n                  idx={0}\r\n                />\r\n              </div>\r\n\r\n              {obj_ref.children.length != 0 ? (\r\n                <ul>{subCategory(obj_ref)}</ul>\r\n              ) : null}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Category;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}