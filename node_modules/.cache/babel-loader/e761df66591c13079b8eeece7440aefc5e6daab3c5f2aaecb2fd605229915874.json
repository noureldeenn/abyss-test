{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nour Badr\\\\Downloads\\\\abyss_typescript\\\\abyss_typescript_task-main\\\\src\\\\Components\\\\Tree\\\\Tree.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport color from \"../../Constants/color\";\nimport Buttons from \"../Buttons/Buttons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Tree() {\n  _s();\n  //All State Start From Here\n  const [obj_ref, setObj_ref] = React.useState({\n    name: \"level_1\",\n    level: 1,\n    value: 'Category',\n    is_edit: false,\n    color: color[0],\n    children: []\n  });\n  // All State End Here\n\n  //All Function For Category Start\n  function add(obj, parent_obj) {\n    const level = (obj === null || obj === void 0 ? void 0 : obj.level) + 1;\n    const color_val = color[obj.level];\n    console.log(parent_obj, level, color_val);\n    obj.children.push({\n      name: parent_obj.name + '_' + (parent_obj.children.length + 1),\n      level: level,\n      color: color_val,\n      value: \"\",\n      is_edit: true,\n      children: []\n    });\n    setObj_ref(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function close(parent_obj, idx) {\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx);\n    setObj_ref(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function confirm(obj) {\n    if (obj.value) {\n      obj.is_edit = false;\n      setObj_ref(data => {\n        return {\n          ...data\n        };\n      });\n    }\n  }\n  function cancle(parent_obj, idx) {\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx);\n    setObj_ref(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function edit(obj, e) {\n    // let val = prompt(\"Enter Edited Value\", obj?.value);\n    // while (!val) {\n    //   val = prompt(\"Enter Edited Value\", obj?.value);\n    // }\n    // obj.value = val;\n\n    setObj_ref(data => {\n      return {\n        ...data,\n        is_edit: true,\n        value: e.target.value\n      };\n    });\n    console.log(obj);\n  }\n  function recursion_ui(obj) {\n    var _obj$children;\n    return obj === null || obj === void 0 ? void 0 : (_obj$children = obj.children) === null || _obj$children === void 0 ? void 0 : _obj$children.map((data, idx) => {\n      var _data$children;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category_main_div\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category_main_value_div\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category_value\",\n              style: {\n                background: `${obj.color}`\n              },\n              children: !data.is_edit ? data.value : /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input_focus\",\n                autoFocus: true,\n                onChange: e => data.value = e.target.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n            confirm: confirm,\n            add: add,\n            obj: data,\n            edit: edit,\n            close: close,\n            parent_obj: obj,\n            cancle: cancle,\n            idx: idx\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), (data === null || data === void 0 ? void 0 : (_data$children = data.children) === null || _data$children === void 0 ? void 0 : _data$children.length) != 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: recursion_ui(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 40\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 14\n      }, this);\n    });\n  }\n  //All Function For Category End\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tree\",\n        id: \"dragMe\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          id: \"parent_ul\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category_main_div\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"category_main_value_div\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"category_value\",\n                  style: {\n                    background: \"#439A97\"\n                  },\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n                confirm: confirm,\n                add: add,\n                obj: obj_ref,\n                edit: edit,\n                close: close,\n                parent_obj: obj_ref,\n                cancle: cancle,\n                idx: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }, this), obj_ref.children.length != 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: recursion_ui(obj_ref)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 45\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 10\n  }, this);\n}\n_s(Tree, \"1jteCKey+cFzVVQA4h98OzaYF6s=\");\n_c = Tree;\nexport default Tree;\nvar _c;\n$RefreshReg$(_c, \"Tree\");","map":{"version":3,"names":["React","color","Buttons","Tree","obj_ref","setObj_ref","useState","name","level","value","is_edit","children","add","obj","parent_obj","color_val","console","log","push","length","data","close","idx","filter","id","confirm","cancle","edit","e","target","recursion_ui","map","background"],"sources":["C:/Users/Nour Badr/Downloads/abyss_typescript/abyss_typescript_task-main/src/Components/Tree/Tree.tsx"],"sourcesContent":["import React from \"react\"\r\nimport color from \"../../Constants/color\"\r\nimport Buttons from \"../Buttons/Buttons\"\r\n\r\n\r\ntype objProps = {\r\n  name: string,\r\n  level: number,\r\n  value: string,\r\n  is_edit: Boolean,\r\n  color: string,\r\n  children: objProps[]\r\n}\r\n\r\nfunction Tree() {\r\n\r\n  //All State Start From Here\r\n  const [obj_ref, setObj_ref] = React.useState<objProps>({\r\n    name: \"level_1\",\r\n    level: 1,\r\n    value: 'Category',\r\n    is_edit: false,\r\n    color: color[0],\r\n    children: []\r\n  })\r\n  // All State End Here\r\n\r\n  //All Function For Category Start\r\n  function add(obj: objProps, parent_obj: objProps) {\r\n    const level = (obj?.level + 1);\r\n    const color_val: string = color[obj.level];\r\n    console.log(parent_obj, level, color_val)\r\n    obj.children.push({\r\n      name: parent_obj.name + '_' + (parent_obj.children.length + 1),\r\n      level: level,\r\n      color: color_val,\r\n      value: \"\",\r\n      is_edit: true,\r\n      children: []\r\n    })\r\n    setObj_ref((data) => { return { ...data } })\r\n\r\n  }\r\n  function close(parent_obj: objProps, idx: Number) {\r\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx)\r\n    setObj_ref((data) => { return { ...data } })\r\n  }\r\n  function confirm(obj: objProps) {\r\n    if (obj.value) {\r\n      obj.is_edit = false;\r\n      setObj_ref((data) => { return { ...data } })\r\n    }\r\n  }\r\n  function cancle(parent_obj: objProps, idx: Number) {\r\n    parent_obj.children = parent_obj.children.filter((data, id) => id != idx)\r\n    setObj_ref((data) => { return { ...data } })\r\n  }\r\n  function edit(obj: objProps, e: any) {\r\n    // let val = prompt(\"Enter Edited Value\", obj?.value);\r\n    // while (!val) {\r\n    //   val = prompt(\"Enter Edited Value\", obj?.value);\r\n    // }\r\n    // obj.value = val;\r\n   \r\n    setObj_ref((data) => { return { ...data, is_edit : true, value: e.target.value } })\r\n    console.log(obj)\r\n  }\r\n  function recursion_ui(obj: objProps) {\r\n    return obj?.children?.map((data: objProps, idx) => {\r\n      return <li>\r\n        <div className=\"category_main_div\" >\r\n          <div className=\"category_main_value_div\">\r\n            <div className=\"category_value\" style={{ background: `${obj.color}` }}>\r\n              {!data.is_edit ? data.value : <input type=\"text\" className=\"input_focus\" autoFocus={true} onChange={(e) => data.value = e.target.value}></input>}\r\n            </div>\r\n          </div>\r\n          <Buttons confirm={confirm} add={add} obj={data} edit={edit} close={close} parent_obj={obj} cancle={cancle} idx={idx} />\r\n        </div>\r\n\r\n        {data?.children?.length != 0 ? <ul>\r\n          {\r\n            recursion_ui(data)\r\n          }\r\n        </ul> : null}\r\n      </li>\r\n\r\n    })\r\n  }\r\n  //All Function For Category End\r\n\r\n\r\n\r\n\r\n  return <div className=\"container\">\r\n    <div className=\"row\">\r\n      <div className=\"tree\" id=\"dragMe\">\r\n        <ul id=\"parent_ul\">\r\n          <li>\r\n            <div className=\"category_main_div\">\r\n              <div className=\"category_main_value_div\">\r\n                <div className=\"category_value\" style={{ background: \"#439A97\" }}>\r\n                  Category\r\n                </div>\r\n              </div>\r\n              <Buttons confirm={confirm} add={add} obj={obj_ref} edit={edit} close={close} parent_obj={obj_ref} cancle={cancle} idx={0} />\r\n            </div>\r\n\r\n            {obj_ref.children.length != 0 ? <ul>\r\n              {\r\n                recursion_ui(obj_ref)\r\n              }\r\n            </ul> : null}\r\n          </li>\r\n        </ul>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default Tree"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}