{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nour Badr\\\\Downloads\\\\abyss_typescript\\\\abyss_typescript_task-main\\\\src\\\\Components\\\\Category\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport color from \"../../Constants/color\";\nimport Buttons from \"../Buttons/Buttons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Category() {\n  _s();\n  //All State Start From Here\n  const [categories, setCategories] = React.useState({\n    name: \"level_1\",\n    level: 1,\n    value: \"Category\",\n    isEditing: false,\n    color: color[0],\n    children: []\n  });\n  // All State End Here\n\n  //All Function For Category Start\n  function add(obj, parent_obj) {\n    const level = (obj === null || obj === void 0 ? void 0 : obj.level) + 1;\n    const color_val = color[obj.level];\n    obj.children.push({\n      name: parent_obj.name + \"_\" + (parent_obj.children.length + 1),\n      level: level,\n      color: color_val,\n      value: \"\",\n      isEditing: true,\n      children: []\n    });\n    setCategories(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function close(parent_obj, idx) {\n    parent_obj.children = parent_obj.children.filter((data, id) => id !== idx);\n    setCategories(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function confirm(obj) {\n    if (obj.value) {\n      obj.isEditing = false;\n      setCategories(data => {\n        return {\n          ...data\n        };\n      });\n    }\n  }\n  function cancle(parent_obj, idx) {\n    parent_obj.children = parent_obj.children.filter((data, id) => id !== idx);\n    setCategories(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function edit(obj) {\n    obj.isEditing = true;\n    setCategories(data => {\n      return {\n        ...data\n      };\n    });\n  }\n  function subCategory(obj) {\n    var _obj$children;\n    return obj === null || obj === void 0 ? void 0 : (_obj$children = obj.children) === null || _obj$children === void 0 ? void 0 : _obj$children.map((data, idx) => {\n      var _data$children;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category_main_div\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category_main_value_div\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category_value\",\n              style: {\n                background: `${obj.color}`\n              },\n              children: !data.isEditing ? data.value : /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input_focus\",\n                autoFocus: true,\n                onChange: e => data.value = e.target.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n            confirm: confirm,\n            add: add,\n            obj: data,\n            edit: edit,\n            close: close,\n            parent_obj: obj,\n            cancle: cancle,\n            idx: idx\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), (data === null || data === void 0 ? void 0 : (_data$children = data.children) === null || _data$children === void 0 ? void 0 : _data$children.length) !== 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: subCategory(data)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 43\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this);\n    });\n  }\n  //All Function For Category End\n\n  let draggable = document.getElementById(\"parent_ul\");\n  let dropzone = document.getElementById(\"dropzone\");\n  draggable === null || draggable === void 0 ? void 0 : draggable.addEventListener(\"dragstart\", function (e) {\n    var _e$dataTransfer;\n    (_e$dataTransfer = e.dataTransfer) === null || _e$dataTransfer === void 0 ? void 0 : _e$dataTransfer.setData(\"text/plain\", \"Anything\");\n  });\n  draggable === null || draggable === void 0 ? void 0 : draggable.addEventListener(\"dragover\", function (e) {\n    e.preventDefault();\n  });\n  draggable === null || draggable === void 0 ? void 0 : draggable.addEventListener(\"drop\", function (e) {\n    var _e$dataTransfer2;\n    e.preventDefault();\n    const data = (_e$dataTransfer2 = e.dataTransfer) === null || _e$dataTransfer2 === void 0 ? void 0 : _e$dataTransfer2.getData(\"text/plain\");\n    dropzone.innerHTML = dropzone ? data : null;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"dropzone\",\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          id: \"parent_ul\",\n          draggable: \"true\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category_main_div\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"category_main_value_div\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"category_value\",\n                  style: {\n                    background: \"white\",\n                    border: \"1px solid #439A97\"\n                  },\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Buttons, {\n                confirm: confirm,\n                add: add,\n                obj: categories,\n                edit: edit,\n                close: close,\n                parent_obj: categories,\n                cancle: cancle,\n                idx: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), categories.children.length !== 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: subCategory(categories)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(Category, \"sWCRQZOiTjP8/GBEcomjk0PBuH4=\");\n_c = Category;\nexport default Category;\nvar _c;\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"names":["React","color","Buttons","Category","categories","setCategories","useState","name","level","value","isEditing","children","add","obj","parent_obj","color_val","push","length","data","close","idx","filter","id","confirm","cancle","edit","subCategory","map","background","e","target","draggable","document","getElementById","dropzone","addEventListener","dataTransfer","setData","preventDefault","getData","innerHTML","border"],"sources":["C:/Users/Nour Badr/Downloads/abyss_typescript/abyss_typescript_task-main/src/Components/Category/index.tsx"],"sourcesContent":["import React from \"react\";\r\nimport color from \"../../Constants/color\";\r\nimport Buttons from \"../Buttons/Buttons\";\r\n\r\ntype objProps = {\r\n  name: string;\r\n  level: number;\r\n  value: string;\r\n  isEditing: Boolean;\r\n  color: string;\r\n  children: objProps[];\r\n};\r\n\r\nfunction Category() {\r\n  //All State Start From Here\r\n  const [categories, setCategories] = React.useState<objProps>({\r\n    name: \"level_1\",\r\n    level: 1,\r\n    value: \"Category\",\r\n    isEditing: false,\r\n    color: color[0],\r\n    children: [],\r\n  });\r\n  // All State End Here\r\n\r\n  //All Function For Category Start\r\n  function add(obj: objProps, parent_obj: objProps) {\r\n    const level = obj?.level + 1;\r\n    const color_val: string = color[obj.level];\r\n    obj.children.push({\r\n      name: parent_obj.name + \"_\" + (parent_obj.children.length + 1),\r\n      level: level,\r\n      color: color_val,\r\n      value: \"\",\r\n      isEditing: true,\r\n      children: [],\r\n    });\r\n    setCategories((data) => {\r\n      return { ...data };\r\n    });\r\n  }\r\n  function close(parent_obj: objProps, idx: Number) {\r\n    parent_obj.children = parent_obj.children.filter((data, id) => id !== idx);\r\n    setCategories((data) => {\r\n      return { ...data };\r\n    });\r\n  }\r\n  function confirm(obj: objProps) {\r\n    if (obj.value) {\r\n      obj.isEditing = false;\r\n      setCategories((data) => {\r\n        return { ...data };\r\n      });\r\n    }\r\n  }\r\n  function cancle(parent_obj: objProps, idx: Number) {\r\n    parent_obj.children = parent_obj.children.filter((data, id) => id !== idx);\r\n    setCategories((data) => {\r\n      return { ...data };\r\n    });\r\n  }\r\n  function edit(obj: objProps) {\r\n    obj.isEditing = true;\r\n    setCategories((data) => {\r\n      return { ...data };\r\n    });\r\n  }\r\n  function subCategory(obj: objProps) {\r\n    return obj?.children?.map((data: objProps, idx) => {\r\n      return (\r\n        <li>\r\n          <div className=\"category_main_div\">\r\n            <div className=\"category_main_value_div\">\r\n              <div\r\n                className=\"category_value\"\r\n                style={{ background: `${obj.color}` }}\r\n              >\r\n                {!data.isEditing ? (\r\n                  data.value\r\n                ) : (\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"input_focus\"\r\n                    autoFocus={true}\r\n                    onChange={(e) => (data.value = e.target.value)}\r\n                  ></input>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <Buttons\r\n              confirm={confirm}\r\n              add={add}\r\n              obj={data}\r\n              edit={edit}\r\n              close={close}\r\n              parent_obj={obj}\r\n              cancle={cancle}\r\n              idx={idx}\r\n            />\r\n          </div>\r\n\r\n          {data?.children?.length !== 0 ? <ul>{subCategory(data)}</ul> : null}\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n  //All Function For Category End\r\n\r\n  let draggable = document.getElementById(\"parent_ul\");\r\n  let dropzone = document.getElementById(\"dropzone\");\r\n\r\n  draggable?.addEventListener(\"dragstart\", function (e) {\r\n    e.dataTransfer?.setData(\"text/plain\", \"Anything\");\r\n  });\r\n\r\n  draggable?.addEventListener(\"dragover\", function (e) {\r\n    e.preventDefault();\r\n  });\r\n\r\n  draggable?.addEventListener(\"drop\", function (e: any) {\r\n    e.preventDefault();\r\n    const data = e.dataTransfer?.getData(\"text/plain\");\r\n    dropzone.innerHTML = dropzone ? data : null;\r\n  });\r\n\r\n  return (\r\n    <div id=\"dropzone\" className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"category\">\r\n          <ul id=\"parent_ul\" draggable=\"true\">\r\n            <li>\r\n              <div className=\"category_main_div\">\r\n                <div className=\"category_main_value_div\">\r\n                  <div\r\n                    className=\"category_value\"\r\n                    style={{ background: \"white\", border: \"1px solid #439A97\" }}\r\n                  >\r\n                    Category\r\n                  </div>\r\n                </div>\r\n                <Buttons\r\n                  confirm={confirm}\r\n                  add={add}\r\n                  obj={categories}\r\n                  edit={edit}\r\n                  close={close}\r\n                  parent_obj={categories}\r\n                  cancle={cancle}\r\n                  idx={0}\r\n                />\r\n              </div>\r\n\r\n              {categories.children.length !== 0 ? (\r\n                <ul>{subCategory(categories)}</ul>\r\n              ) : null}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Category;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}